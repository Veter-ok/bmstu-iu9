{% extends "myapp/index.html" %}
{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî TSP Graduation Work{% endblock %}
{% block content %}
<div class="container">
  <div class="column">
    <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>

    <p>
      –ü–æ—á—Ç–∞: 
      <span class="copyable" data-copy="example@mail.ru">example@mail.ru</span><br />
      –¢–µ–ª–µ—Ñ–æ–Ω: 
      <span class="copyable" data-copy="+7 (900) 123-45-67">+7 (900) 123-45-67</span>
    </p>

    <div id="copy-message" style="
        display:none;
        position:fixed;
        bottom:20px;
        right:20px;
        background:#4CAF50;
        color:white;
        padding:10px 20px;
        border-radius:8px;
        box-shadow:0 2px 6px rgba(0,0,0,0.3);
      ">
      –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!
    </div>
  </div>
</div>

<script>
  // –≤—ã–±–∏—Ä–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
  document.querySelectorAll('.copyable').forEach(el => {
    el.style.cursor = 'pointer';
    el.style.textDecoration = 'underline';
    el.style.textDecorationStyle = 'dotted';

    el.addEventListener('click', async () => {
      const text = el.getAttribute('data-copy');
      try {
        await navigator.clipboard.writeText(text);

        // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const msg = document.getElementById('copy-message');
        msg.style.display = 'block';
        setTimeout(() => { msg.style.display = 'none'; }, 1500);
      } catch (err) {
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å üòû');
      }
    });
  });
</script>
{% endblock %}